<!--
    JokeAPI - © Sv443 / Sven Fehler 2018-2019
    Licensed under the MIT license: https://github.com/Sv443/JokeAPI/blob/master/LICENSE

    


    Please note that I don't actually put everything in one file (thank god I'm not one of those people anymore).
    Instead, the API just injects everything into the final HTML file.
    Everything wrapped by "INJECTED" comments like the following example is being automatically injected:
-->




<!--INJECTED::-->

    <!-- stuff gets injected here -->

<!--:/:INJECTED-->





<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="pagename" content="JokeAPI">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="HandheldFriendly" content="true">
        <meta name="keywords" content="game,video game,sv443,sven fehler,api,rest,restful,restful api,json,json api,jokes,joke,programmer,humor">
        <meta name="description" content="Sv443's RESTful Joke API - No token / registration needed, no payments, no limitations, fast response time">
        <meta name="twitter:card" content="Sv443's RESTful Joke API - No token / registration needed, no payments, no limitations, fast response time">
        <meta name="subject" content="API">
        <meta name="copyright" content="Sv443 - Licensed under MIT license">
        <meta name="author" content="Sv443 / Sven Fehler, sven.fehler@web.de">
        <meta property="og:title" content="Sv443 / Sven Fehler">
        <meta property="og:url" content="https://sv443.net/">
        <meta property="og:description" content="Sv443's RESTful Joke API - No token / registration needed, no payments, no limitations, fast response time">
        <meta property="og:image" content="https://sv443.net/favicon.png">
        <meta property="og:type" content="profile"> 
        <meta property="og:locale" content="en_US">
        <meta property="og:locale:alternate" content="en_GB">
        <meta property="og:locale:alternate" content="en_AU">
        <meta name="application-name" content="JokeAPI">
        <meta name="theme-color" content="#101747">

        <link rel="icon" type="image/png" href="https://sv443.net/cdn/jokeapi/icon_small.png">
        <!--script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script-->

        <base target="blank_">

        <title>JokeAPI by Sv443</title>

        <script>
            const isLocal = true;
        </script>

        	<!--INJECTED::--><style>
            @import url('https://fonts.googleapis.com/css?family=Roboto');
            @import url('https://fonts.googleapis.com/css?family=Open+Sans');
            body {
                font-family: "Roboto", sans-serif;
                font-size: 17px;
            }
            kbd {
                font-family: "Consolas", monospace;
            }
            kbd:not(.block) {
                background-color: rgb(255, 255, 155);
                color: black;
                padding: 1px;
            }
            kbd.block {
                display: block;
                background-color: black;
                color: white;
                padding: 10px;
                padding-left: 35px;
                margin-top: 10px;
                margin-bottom: 10px;
                border-style: none none none solid;
                border-color: blueviolet;
                border-width: 10px;
            }
            .subtxt {
                font-size: 70%;
                color: #666; /*   <(O_O)>   oh no help satan   */
            }
            a.hidden {
                color: inherit;
                text-decoration: none;
                position: relative;
                bottom: 0;
                transition: bottom 0.4s ease-out;
                cursor: pointer;
            }
            a.hidden:hover {
                text-decoration: underline;
                position: relative;
                bottom: 0.1vw;
                transition: bottom 0.1s linear;
            }
            #desc {
                margin-top: 20px;
                margin-bottom: 80px;
            }
            #submitjokeformframe {
                border: none;
                width: 100%;
                height: 90%;
            }
            .mimica, a {
                color: #55f;
                text-decoration: none;
                cursor: pointer;
            }
            a:hover, .mimica:hover {
                text-decoration: underline;
            }
            .rot90 {
                display: inline-block;
                transform: rotate(90deg);
                cursor: default;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }
            i.pc1, kbd .string {
                text-decoration: none;
                color: yellowgreen;
            }
            i.pc2, kbd .number {
                text-decoration: none;
                font-style: normal;
                color: orange;
            }
            i.pc3, kbd .key {
                text-decoration: none;
                font-style: normal;
                color: rgb(97, 171, 255);
            }
            i.pc4, kbd .boolean {
                text-decoration: none;
                font-style: normal;
                color: rgb(255, 108, 108);
            }
            #timg {
                display: inline-block;
                width: 35px;
                height: 35px;
            }
            #dtitle {
                font-size: 40px;
            }

            /* thanks to https://stackoverflow.com/questions/27571498/multi-selection-horizontal */
            #multipleSelectWrapper {
                display: inline-block;
                padding: 0;
                width: auto;
                height: 20px;
            }

            select[multiple] {
                overflow: visible;
                height: 20px;
                padding: 0;
                padding-left: 1px;
                border: none;
                background-color: #eee;
                width: auto;
            }
            select[multiple] option {
                cursor: pointer;
                border: 1px solid #000;
                background-color: white;
                margin-left: -1px;
                display: inline-block;
                float: left;
                height: 20px;
            }
 
            h3 a[name], h2 a[name] {
                color: black;
                text-decoration: none;
                cursor: text;
            }

            a.anchorSym:not(.noOpacity) {
                filter: opacity(20%);
                text-shadow: 0px 0px #3d3d3d;
                transition: filter 0.1s linear, text-shadow 0.1s linear, color 0.1s linear;
                text-decoration: none;
                color: black;
                margin-right: 2px;
            }

            a.anchorSym.noOpacity {
                text-decoration: none;
                color: black;
            }

            h2:hover a.anchorSym:not(.noOpacity), h3:hover a.anchorSym:not(.noOpacity) {
                filter: opacity(100%);
                color: black;
                transition: filter 0.1s linear, color 0.1s linear;
            }

            h2 a.anchorSym:not(.noOpacity):hover, h3 a.anchorSym:not(.noOpacity):hover {
                text-shadow: 2px 2px 3px rgba(138, 43, 226, 0.6);
                color: #000;
                transition: text-shadow 0.1s linear, color 0.1s linear;
            }

            h2, .btmborder {
                border-style: none none solid none;
                border-width: 2px;
                border-color: black;
                padding-bottom: 4px;
            }

            #btmrbtns div {
                display: inline-block;
                border: 2px solid blueviolet;
                border-radius: 10000px;
                background-color: black;
                color: white;
                font-size: 45px;
                width: 55px;
                height: 55px;
                text-align: center;
                cursor: pointer;
                filter: none;

                transition: color 0.2s linear, filter 0.2s linear;
            }

            #btmrbtns div#submitJokeBtn {
                border: 2px solid limegreen;
            }

            #btmrbtns div:hover {
                color: #ccc;
                filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.6));
                transition: color 0.1s linear, filter 0.1s linear;
            }

            #btmrbtns div#submitJokeBtn:hover {
                color: rgb(159, 245, 159);
            }

            #btmrbtns {
                border: 2px solid black;
                border-style: solid none none solid;
                border-top-left-radius: 20px;
                background-color: #444;
                display: inline-block;
                position: fixed;
                right: 0;
                bottom: 0;
                padding: 5px;
            }

            #btmrbtns div {
                cursor: pointer;
            }

            #btmrbtns table tr.text td {
                text-align: center;
                font-size: 80%;
                color: white;
                padding-left: 5px;
                padding-right: 5px;
            }

            html {
                scroll-behavior: smooth;
            }
	</style><!--:/:INJECTED-->
    </head>
    <body>
        <div id="titlewrapper" class="btmborder">
            <a class="anchorSym noOpacity" href="#top" target="_self" name="top">
                <img id="timg" src="https://sv443.net/cdn/jokeapi/icon_small.png">
            </a>&nbsp;&nbsp;&nbsp;
            <span id="dtitle">JokeAPI <span class="subtxt"> - by <a href="https://sv443.net/" class="hidden">Sv443</a></span></span>
            <span class="subtxt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="insertversion">loading</span>)</span>
        </div>

        <div id="desc">
            This is a uniformly and carefully formatted RESTful joke API anyone can use <u>without any API token, membership, registration or payment.</u><br>
            The usage is very simple and similar to other RESTful APIs and requires only basic knowledge of HTTP/HTTPS requests and JSON.<br><br><br>

            <h3 style="color: orangered;">I'm currently having problems with my DNS on my main domain so you might wanna use my backup domain (<a href="http://sv443.ddns.net/jokeapi">http://sv443.ddns.net/jokeapi</a>) if the main domain doesn't work.</h3>
            <h3><span style="color: red;">!</span> &gt; &nbsp; &nbsp;If you know any jokes that you want me to add, please submit them using <a class="mimica" onclick="openSubmissionForm()">this form</a>. Thanks&nbsp;&nbsp;&nbsp;<span class="rot90">: )</span></h3><br><br><br>

            This is what you'll be receiving from the API (note how a <kbd>type: single</kbd> joke only consists of a <kbd>joke</kbd> attribute, while a <kbd>type: twopart</kbd> joke has both a <kbd>setup</kbd> and a <kbd>delivery</kbd>):<br>
            <kbd class="block">
                {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"category"</i>: "Programming",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"type"</i>: "single",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"joke"</i>: "I've got a really good UDP joke to tell you but I don't know if you'll get it.",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"id"</i>: 0<br>
                }<br><br>

                <i><b>OR</b></i>

                <br><br>
                {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"category"</i>: "Programming",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"type"</i>: "twopart",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"setup"</i>: "How many programmers does it take to screw in a light bulb?",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"delivery"</i>: "None. It's a hardware problem.",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"id"</i>: 1<br>
                }
            </kbd>
            Pretty easy, huh?&nbsp;&nbsp;&nbsp;<span class="rot90">: )</span>
        </div>
        <br><br>

        <h2><a class="anchorSym" href="#try-it" target="_self">#&nbsp;</a> <a name="try-it">Try it out here:</a></h2>
        <div id="tryout">
            <kbd class="block">
                <i class="pc2">curl</i> -X <i class="pc3">GET</i> <i class="pc1">"https://sv443.net/jokeapi/category/<select id="selectcategory" title="Select a joke category">
                    <option value="Any">Any</option>
                    <option value="Miscellaneous">Miscellaneous</option>
                    <option value="Programming">Programming</option>
                    <option value="Dark">Dark</option>
                </select>?blacklistFlags=<div id="multipleSelectWrapper"><select id="selectblflags" title="Blacklist jokes with (a) certain flag(s)" multiple>
                    <option value="nsfw">nsfw</option>
                    <option value="religious">religious</option>
                    <option value="political">political</option>
                </select></div>"</i>

                <br><br><br>

                <button onclick="sendReq(gebid('selectcategory').value, Array.from(gebid('selectblflags').selectedOptions).map(option => option.value))">Send&nbsp;&nbsp;&gt;</button> <!-- thanks to https://stackoverflow.com/a/49228587/8602926 -->
            </kbd>
            <span class="subtxt">(Hold down CTRL to select multiple flags)</span>

            <br><br>
            <h3>Result:</h3>
            
            <kbd class="block" id="testresult">
                (Click send above)
            </kbd>
        </div>
        <br><br><br><br><br>


        




        <br><br>
        <h2><a class="anchorSym" href="#usage" target="_self">#&nbsp;</a> <a name="usage">Usage:</a></h2>
        To use the JokeAPI, send a GET request to the endpoint at <kbd>https://sv443.net/jokeapi/category/[Category_Name]</kbd> and make sure you provide the correct category name. Otherwise an error will be returned.<br>
        This category name has to correspond to any of the available joke categories (case sensitive!), which you can see by sending a GET request to this endpoint: <kbd>https://sv443.net/jokeapi/categories</kbd>.<br>
        The following is the result of a GET request to the above mentioned endpoint:<br>
        <kbd class="block" id="categoryDisp">

        </kbd>
        <br>
        <h3>Examples:</h3>
        <ul>
            <li>
                <kbd>https://sv443.net/jokeapi/category/Any</kbd> <span class="subtxt">(will give a joke from any of the above categories)</span><br>
            </li>
            <li>
                <kbd>https://sv443.net/jokeapi/category/Programming</kbd> <span class="subtxt">(will give a joke from the Programming category)</span>
            </li>
        </ul>
        <br><br>







        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#flags" target="_self">#&nbsp;</a> <a name="flags">Flags:</a></h2>
        JokeAPI now supports an additional filter, the so called flags. These are additional properties of the JSON object and they indicate that a certain joke might not be suitable for certain people.<br>
        There's currently three flags:
        <ul>
            <table>
                <tr>
                    <td>
                        <li>nsfw
                    </td>
                    <td>
                        <span class="subtxt">&nbsp;&nbsp;&nbsp;&nbsp;not safe for work (for example sexually explicit jokes)</span></li>
                    </td>
                </tr>
                <tr>
                    <td>
                        <li>religious
                    </td>
                    <td>
                        <span class="subtxt">&nbsp;&nbsp;&nbsp;&nbsp;jokes against certain religions and their prejudices</span></li>
                    </td>
                </tr>
                <tr>
                    <td>
                        <li>political
                    </td>
                    <td>
                        <span class="subtxt">&nbsp;&nbsp;&nbsp;&nbsp;jokes against politics / politicians</span></li>
                    </td>
                </tr>
            </table>
        </ul>
        <br>
        To filter out jokes with certain flags, add the URL parameter <kbd>?blacklistFlags=[Comma separated Flags]</kbd> (if there's no other question mark) or <kbd>&blacklistFlags=[Comma separated Flags]</kbd> (if there's already a question mark) to the final URL.<br><br>
        
        <h3>Examples:</h3>
        <ul>
            <li>
                For example, if you want a Miscellaneous joke that is not religious and not political, you use the following URL: <kbd><a href="https://sv443.net/jokeapi/category/Miscellaneous?blacklistFlags=religious,political" target="blank_">https://sv443.net/jokeapi/category/Miscellaneous?blacklistFlags=religious,political</a></kbd><br>
            </li>
            <li>
                Or let's say you don't want NSFW jokes but don't care about religious or political jokes. In this case, your URL would look like this: <kbd><a href="https://sv443.net/jokeapi/category/Miscellaneous?blacklistFlags=nsfw" target="blank_">https://sv443.net/jokeapi/category/Miscellaneous?blacklistFlags=nsfw</a></kbd>
            </li>
        </ul>






        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#file-formats" target="_self">#&nbsp;</a> <a name="file-formats">File Formats:</a></h2>
        Version 1.0.0 adds another useful thing and that is the ability to choose the file format of the payload.<br>
        This feature works on every single endpoint and in the exact same way.<br>
        Currently supported file formats are:
        <ul>
            <li>json</li>
            <li>xml</li>
            <li>yaml</li>
        </ul>
        <br>
        To change these, simply add a <kbd>?format=json/xml/yaml</kbd> to the URL , if your URL doesn't contain a question mark, or <kbd>&format=json/xml/yaml</kbd> if it does.<br>
        The default value is JSON, so if you need your joke in JSON format you can also not add a format parameter at all. This also means that a misspelt format will give you your joke in JSON.<br>
        <br>
        <h3>Examples:</h3>
        <ul>
            <li>
                To get a Miscellaneous joke in XML format, you'd use <kbd><a href="https://sv443.net/jokeapi/category/Miscellaneous?format=xml">https://sv443.net/jokeapi/category/Miscellaneous?format=xml</a></kbd><br>
            </li>
            <li>
                To get a Programming joke that is not political and in YAML format, you'd use <kbd><a href="https://sv443.net/jokeapi/category/Miscellaneous?blacklistFlags=political&format=yaml">https://sv443.net/jokeapi/category/Miscellaneous?blacklistFlags=political&format=yaml</a></kbd>
            </li>
            <li>
                To view all available categories as XML, you'd use <kbd><a href="https://sv443.net/jokeapi/categories?format=xml">https://sv443.net/jokeapi/categories?format=xml</a></kbd>
            </li>
        </ul>
        









        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#all-attributes" target="_self">#&nbsp;</a> <a name="all-attributes">All Attributes:</a></h2>
        These are all attributes at once with their description:
        <kbd class="block">
            {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"category"</i>: "The category of the joke",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"type"</i>: "single or twopart",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"joke"</i>: "this property only exists if the type property is single",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"setup"</i>: "this property is the setup of a joke with the type twopart",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"delivery"</i>: "this property is the delivery of a joke with the type twopart",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"nsfw"</i>: "will be true if a joke is potentially not safe for work or will not exist if not",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"religious"</i>: "will be true if a joke is offensive against a religion or will not exist if not",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"political"</i>: "will be true if a joke is potentially political or will not exist if not",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">"id"</i>: "(since v1.0.0) a unique ID each joke has - could be useful to not have the same joke twice in a row"<br>
            }
        </kbd>
        









        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#info-endpoint" target="_self">#&nbsp;</a> <a name="info-endpoint">Information Endpoint:</a></h2>
        By sending a GET request to <kbd><a href="https://sv443.net/jokeapi/info">https://sv443.net/jokeapi/info</a></kbd> (<a href="#file-formats" target="_self">other formats</a> are also supported), you'll receive some information about JokeAPI that could be useful for automation:
        <kbd class="block" id="informationDisp">
            (Loading)
        </kbd>
        <span class="subtxt">(sorry for the bad formatting, I made this syntax highlighting by patching together snippets and it doesn't work with more than one "JSON layer")</span>



        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#example-curl" target="_self">#&nbsp;</a> <a name="example-curl">Example with CURL:</a></h2>
        <kbd class="block">
            <i class="pc2">curl</i> -X <i class="pc3">GET</i> <i class="pc1">"https://sv443.net/jokeapi/category/Any?blacklistFlags=nsfw"</i><br>
        </kbd>
        This will return a joke from any category that is not NSFW.



        <br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#example-node" target="_self">#&nbsp;</a> <a name="example-node">Example with NodeJS:</a></h2>
        <kbd class="block">
            <i class="pc2">var</i> <i class="pc4">randomJoke</i>;<br>
            <i class="pc2">var</i> <i class="pc4">jokeCategory</i> = <i class="pc1">"Any"</i>;<br>
            <i class="pc2">var</i> <i class="pc4">format</i> = <i class="pc1">"xml"</i>;<br>
            <i class="pc2">var</i> <i class="pc4">blacklistFlags</i> = <i class="pc1">"nsfw,political"</i>;<br><br>
            <i class="pc3">http.get</i>({<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">host</i>: "https://sv443.net",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">path</i>: `jokeapi/category/<i class="pc3">${</i><i class="pc4">jokeCategory</i><i class="pc3">}</i>?blacklistFlags=<i class="pc3">${</i><i class="pc4">blacklistFlags</i><i class="pc3">}</i>&format=<i class="pc3">${</i><i class="pc4">format</i><i class="pc3">}</i>`<br>
            }).<i class="pc2">then</i>(<i class="pc4">res</i> => {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc4">randomJoke</i> = <i class="pc3">JSON</i>.parse(<i class="pc4">res</i>);<br>
            });<br>
        </kbd>
        The variable <kbd>randomJoke</kbd> is now a JSON object like the one at <a href="#top" targer="_self">the top of this page</a>



        <br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#example-jquery" target="_self">#&nbsp;</a> <a name="example-jquery">Example with jQuery:</a></h2>
        <kbd class="block">
            <i class="pc2">var</i> <i class="pc4">randomJoke</i>;<br>
            <i class="pc2">var</i> <i class="pc4">jokeCategory</i> = <i class="pc1">"Miscellaneous"</i>;<br>
            <i class="pc2">var</i> <i class="pc4">format</i> = <i class="pc1">"xml"</i>;<br>
            <i class="pc2">var</i> <i class="pc4">blacklistFlags</i> = <i class="pc1">"nsfw"</i>;<br><br>
            <i class="pc3">$.ajax</i>({<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">method</i>: "GET",<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">url</i>: `https://sv443.net/jokeapi/category/<i class="pc3">${</i><i class="pc4">jokeCategory</i><i class="pc3">}</i>?blacklistFlags=<i class="pc3">${</i><i class="pc4">blacklistFlags</i><i class="pc3">}</i>&format=<i class="pc3">${</i><i class="pc4">format</i><i class="pc3">}</i>`,<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<i class="pc1">success</i>: (<i class="pc4">data</i>, <i class="pc4">status</i>) => {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="pc4">randomJoke</i> = <i class="pc3">JSON</i>.parse(<i class="pc4">data</i>);<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            });<br>
        </kbd>
        The variable <kbd>randomJoke</kbd> is now a JSON object like the one at <a href="#top" targer="_self">the top of this page</a>

        







        <br><br><br><br><br><br><br><br><br><br><br>
        <h2><a class="anchorSym" href="#special-thanks" target="_self">#&nbsp;</a> <a name="special-thanks">Special Thanks:</a></h2>

        <ul>
            <li>
                <a href="https://www.npmjs.com/package/js2xmlparser">js2xmlparser</a> (used for providing the payload as XML)
            </li>
            <li>
                <a href="https://www.npmjs.com/package/json-to-pretty-yaml">json-to-pretty-yaml</a> (for providing the payload as YAML)
            </li>
        </ul>


        



        


        <br><br><br><br><br>
        <div id="btmrbtns">
            <table>
                <tr>
                    <td>
                        <div id="submitJokeBtn" title="Submit a new Joke" onclick="openSubmissionForm()">+</div>
                    </td>
                    <td>
                        <a href="#top" target="_self"><div id="sctopbtn" title="Back to the top">▲</div></a>
                    </td>
                </tr>
                <tr class="text">
                    <td>
                        Submit<br>Joke
                    </td>
                    <td>
                        Back to<br>Top
                    </td>
                </tr>
            </table>
        </div>
        		<!--INJECTED::--><script>
            var baseURL = "";
            if(isLocal) baseURL = "http://127.0.0.1:8079/jokeapi";
            else baseURL = "https://sv443.net/jokeapi";
            
            // const checkScroll = () => {
            //     let sct = gebid("sctopbtn");
            //     if(window.scrollY > 500) sct.style.display = "inline-block";
            //     else sct.style.display = "none";
            // }
            
            // document.onscroll = checkScroll;
            // document.onresize = checkScroll;
            // checkScroll();
            
            let xh = new XMLHttpRequest();
            xh.open("GET", `${baseURL}/categories`);
            xh.onreadystatechange = () => {
                if(xh.readyState == 4 && xh.status == 200) {
                    gebid("categoryDisp").innerHTML=syntaxHighlight(xh.responseText);
                    gebid("categoryDisp").childNodes.forEach(cn => {
                        if(cn.className == "key") cn.innerHTML="<br>&nbsp;&nbsp;&nbsp;&nbsp;" + cn.innerHTML;
                    });
                    gebid("categoryDisp").innerHTML=gebid("categoryDisp").innerHTML.replace("}", "<br>}");
                }
            }
            xh.send();

            let xh2 = new XMLHttpRequest();
            xh2.open("GET", `${baseURL}/info`);
            xh2.onreadystatechange = () => {
                if(xh2.readyState == 4 && xh2.status == 200) {
                    let vins = gebcn("insertversion");
                    for(let i = 0; i < vins.length; i++) {
                        vins[i].innerHTML = `v${JSON.parse(xh2.responseText).version}`;
                    }

                    gebid("informationDisp").innerHTML=syntaxHighlight(xh2.responseText);
                    gebid("informationDisp").childNodes.forEach(cn => {
                        if(cn.innerHTML != undefined) {
                            twoTabKeys = ["totalCount", "categories", "flags", "submissionURL"];
                            if(!twoTabKeys.includes(cn.innerHTML) && cn.className == "key") cn.innerHTML="<br>&nbsp;&nbsp;&nbsp;&nbsp;" + cn.innerHTML;
                            else if(cn.className == "key") cn.innerHTML="<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" + cn.innerHTML;
                        }
                    });
                    gebid("informationDisp").innerHTML=gebid("informationDisp").innerHTML.replace(/\}/gm, "<br>}");
                }
            }
            xh2.send();

            setInterval(()=>{
                // window.location.reload();
            }, 3000);

            function openSubmissionForm() {
                Menu.open("submitjoke");
            }

            function sendReq(category, flags) {
                let xhr = new XMLHttpRequest();
                xhr.open("GET", `${baseURL}/category/${category.toString()}?blacklistFlags=${flags.join(",")}`);
                xhr.onreadystatechange = () => {
                    if(xhr.readyState == 4) {
                        if(xhr.status < 400) {
                            gebid("testresult").innerHTML=syntaxHighlight(xhr.responseText);
                            gebid("testresult").childNodes.forEach(cn => {
                                if(cn.className == "key") cn.innerHTML="<br>&nbsp;&nbsp;&nbsp;&nbsp;" + cn.innerHTML;
                            });
                            gebid("testresult").innerHTML=gebid("testresult").innerHTML.replace("}", "<br>}");
                        }
                        else {
                            gebid("testresult").innerHTML=`Error: ${xhr.status} - ${xhr.statusText}: ${xhr.responseText}`;
                        }
                    }
                }
                xhr.send();
            }

            function syntaxHighlight(json) {
                if (typeof json != 'string') {
                    json = JSON.stringify(json, undefined, 4);
                }
                json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                    var cls = 'number';
                    if (/^"/.test(match)) {
                        if (/:$/.test(match)) {
                            cls = 'key';
                        } else {
                            cls = 'string';
                        }
                    } else if (/true|false/.test(match)) {
                        cls = 'boolean';
                    } else if (/null/.test(match)) {
                        cls = 'null';
                    }
                    return '<span class="' + cls + '">' + match + '</span>';
                });
            }

            const sURL = "https://sv443.net/r/submitJoke";
            const sIHTML = `<iframe id="submitjokeformframe" src="${sURL}"></iframe>`;

            const Menu=new function(){this.new=function(id,title,innerhtml,width,height,border_rounded,closable_ESC,closable_btn,on_close,close_img_src){if(typeof id=="string"&&typeof title=="string"&&typeof innerhtml=="string"&&typeof width=="number"&&typeof height=="number"){if(gebid("jsg_menu_"+id)!=null){console.error("a menu with the ID "+id+" already exists - not creating a new one");return}
            if(isempty(border_rounded))border_rounded=!0;if(typeof closable_ESC!="boolean")closable_ESC=!0;if(typeof closable_btn!="boolean")closable_btn=!0;if(isempty(on_close))on_close=function(){};if(isempty(close_img_src))close_img_src="https://sv443.net/resources/images/jsg_menu_close.png";var menuelem=document.createElement("div");menuelem.style.display="none";menuelem.style.opacity="0";menuelem.style.transition="opacity 0.3s ease-in";menuelem.id="jsg_menu_"+id;menuelem.style.position="fixed";menuelem.style.top=((100-height)/2)+"vh";menuelem.style.left=((100-width)/2)+"vw";menuelem.style.width=width+"vw";menuelem.style.height=height+"vh";menuelem.style.padding="0.2em";menuelem.style.border="0.25em solid #454545";if(border_rounded)menuelem.style.borderRadius="1.2em";else menuelem.style.borderRadius="0";if(closable_btn)closebtnih='<img onclick="Menu.close(\''+id+'\')" class="jsg_menuclosebtn" title="Close" src="https://raw.githubusercontent.com/Sv443/JSGame/master/closebtn.png" style="cursor:pointer;position:absolute;top:0;right:0;width:1.5em;height:1.5em;">';else closebtnih="";menuelem.style.backgroundColor="#ddd";menuelem.innerHTML="<div class='jsg_menutitle' style='font-size:1.5em;text-align:center;'>"+title+"</div>"+closebtnih+"<br>"+innerhtml;document.body.appendChild(menuelem);if(closable_ESC)document.addEventListener("keydown",e=>{if(e.keyCode==27)Menu.close(id)})}
            else{console.error("the arguments for Menu.new() are wrong");return!1}}
            this.close=function(id){try{setTimeout(()=>{gebid("jsg_menu_"+id).style.display="none"},500);gebid("jsg_menu_"+id).style.opacity="0";gebid("jsg_menu_"+id).style.transition="opacity 0.3s ease-in"}
            catch(err){console.error("couldn't find menu with id "+id+". Is the ID correct and was the menu created correctly?");return!1}}
            this.open=function(id){try{gebid("jsg_menu_"+id).style.display="block";setTimeout(()=>{gebid("jsg_menu_"+id).style.opacity="1";gebid("jsg_menu_"+id).style.transition="opacity 0.3s ease-out"},20)}
            catch(err){console.error("couldn't find menu with id "+id+". Is the ID correct and was the menu created correctly?");return!1}}
            this.theme=function(id,theme){try{if(theme=="dark"){gebid("jsg_menu_"+id).style.backgroundColor="#454545";gebid("jsg_menu_"+id).style.color="white";gebid("jsg_menu_"+id).style.borderColor="#ddd";gebid("jsg_menu_"+id).style.transition="background-color 0.4s ease-out, color 0.4s ease-out, border-color 0.4s ease-out"}
            else{gebid("jsg_menu_"+id).style.backgroundColor="#ddd";gebid("jsg_menu_"+id).style.color="black";gebid("jsg_menu_"+id).style.borderColor="#454545";gebid("jsg_menu_"+id).style.transition="background-color 0.4s ease-out, color 0.4s ease-out, border-color 0.4s ease-out"}}
            catch(err){console.error("couldn't find menu with id "+id+". Is the ID correct and was the menu created correctly?");return!1}}
            this.setInnerHTML=function(id,inner_html){try{gebid("jsg_menu_"+id).innerHTML=inner_html}
            catch(err){console.error("couldn't find menu or inner_html is not valid");return!1}}
            this.setOuterHTML=function(id,outer_html){try{gebid("jsg_menu_"+id).outerHTML=outer_html}
            catch(err){console.error("couldn't find menu or outer_html is not valid");return!1}}}

            function gebid(id){return document.getElementById(id);}function gebcn(classname){return document.getElementsByClassName(classname);}function gebtn(tagname){return document.getElementsByTagName(tagname);}function isempty(string){if(string === undefined || string === null || string == "") return true;else return false;}

            Menu.new("submitjoke", "Submit a Joke", sIHTML, 85, 85, true, true, true);
		</script><!--:/:INJECTED-->
    </body>
</html>